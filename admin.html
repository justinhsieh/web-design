<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>系統管理</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <!-- 自定義CSS -->
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Validation -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
    <script src="http://jqueryvalidation.org/files/dist/additional-methods.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/localization/messages_zh_TW.js "></script>
    <!-- 自定義JS -->
    <script src="js/validate_personalID.js"></script>
    <script>
        $(document).ready(function () {
            $(".cancel-customerID").on("click", function () {
                let row = $(this).closest("tr");
                let memberID = row.find("td:first").text();
                if (confirm(`確定要刪除會員:${memberID}嗎?`)) {
                    row.remove();
                }
            });
            $(".cancel-productID").on("click", function () {
                let row = $(this).closest("tr");
                let productID = row.find("td:first").text();
                if (confirm(`確定要刪除商品:${productID}嗎?`)) {
                    row.remove();
                }
            });
            $(".cancel-discussion").on("click", function () {
                let row = $(this).closest("tr");
                let discussion = row.find("td:first").text();
                if (confirm(`確定要刪除會員:${discussion}的留言嗎?`)) {
                    row.remove();
                }
            });
            $(".cancel-paylist").on("click", function () {
                let row = $(this).closest("tr");
                let paylist = row.find("td:first").text();
                if (confirm(`確定要刪除會員:${paylist}的訂單嗎?`)) {
                    row.remove();
                }
            });
            $(".drop_item").click(function () {
                $(".dropdown-toggle").html($(this).html());
                $(".drop_item").each(function () {
                    $(this).show();
                })
                $(this).hide();
            });
        });
    </script>

</head>

<body>
    <!-- 導覽列 -->
    <header>
        <nav class="navbar navbar-expand-lg bg-light border-bottom border-1 border-black">
            <div class="container-fluid">
                <a class="navbar-brand d-flex align-items-center" href="index.html">
                    <img src="images/hacker.png" alt="logo" class="logo">
                    <span class="logo-context fs-3 fw-bold">3C用品店|管理者介面</span>
                </a>
                <nav aria-label="breadcrumb" class="ms-auto me-3">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="login.html"
                                class="link-underline link-underline-opacity-0">登入</a></li>
                        <li class="breadcrumb-item"><a href="register.html"
                                class="link-underline link-underline-opacity-0">註冊</a></li>
                    </ol>
                </nav>
                <div class="tool-right me-4 d-flex">
                    <a href="personal_id.html" alt="account">
                        <img src="images/user.png" class="icon pe-2">
                    </a>
                    <a href="shopping_list.html" alt="shopping-cart">
                        <img src="images/shopping-cart.png" class="icon">
                    </a>
                </div>
            </div>
        </nav>
    </header>
    <div class="container py-5">
        <h2 class="text-center py-2">系統管理者後台</h2>
        <!-- 管理介面 -->
        <div id="adminPanel">
            <nav class="nav nav-tabs mt-3">
                <a class="nav-link active" data-bs-toggle="tab" href="#members">會員管理</a>
                <a class="nav-link" data-bs-toggle="tab" href="#products">商品管理</a>
                <a class="nav-link" data-bs-toggle="tab" href="#messages">留言管理</a>
                <a class="nav-link" data-bs-toggle="tab" href="#orders">訂單管理</a>
            </nav>

            <div class="tab-content mt-3">
                <div id="members" class="tab-pane fade show active">
                    <h4>會員管理</h4>
                    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addUserModal">新增會員</button>
                    <div class="list-customerID">
                        <table class="table mt-2">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>姓名</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>王小明</td>
                                    <td>
                                        <button class="btn btn-warning btn-sm edit-member" data-bs-toggle="modal"
                                            data-bs-target="#editUserModal" data-id="1" data-name="王小明">
                                            編輯
                                        </button>
                                        <button class="btn btn-danger btn-sm cancel-customerID">刪除</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="products" class="tab-pane fade">
                    <h4>商品管理</h4>
                    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addProductModal">
                        新增商品
                    </button>
                    <table class="table mt-2">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>商品名稱</th>
                                <th>價格</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>SONY WH-1000XM5 耳機</td>
                                <td>$10400</td>
                                <td>
                                    <button class="btn btn-warning btn-sm" data-bs-toggle="modal"
                                        data-bs-target="#editProductModal" data-id="1"
                                        data-name="SONY WH-1000XM5 耳機">編輯</button>
                                    <button class="btn btn-danger btn-sm cancel-productID">刪除</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="messages" class="tab-pane fade">
                    <h4>留言管理</h4>
                    <table class="table mt-2">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>會員</th>
                                <th>留言內容</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>201</td>
                                <td>王小明</td>
                                <td>這個商品很好用！</td>
                                <td>
                                    <button class="btn btn-danger btn-sm cancel-discussion">刪除</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="orders" class="tab-pane fade">
                    <h4>訂單管理</h4>
                    <table class="table mt-2">
                        <thead>
                            <tr>
                                <th>訂單ID</th>
                                <th>會員</th>
                                <th>總金額</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>301</td>
                                <td>王小明</td>
                                <td>$1,198</td>
                                <td>
                                    <button class="btn btn-danger btn-sm cancel-paylist">刪除</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <button class="btn btn-danger mt-3" id="logoutBtn">登出</button>
        </div>
    </div>

    <!-- 新增會員 Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">新增會員</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form action="#" class="form-horizontal" id="form-add-customerID">
                    <div class="modal-body">
                        <div class="form-group py-2">
                            <label for="customerID" class="form-label">會員ID</label>
                            <input type="number" name="customerID" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="name" class="form-label">會員姓名</label>
                            <input type="text" name="name" class="form-control" placeholder="ex.王小明" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="birth" class="form-label">出生</label>
                            <input type="text" name="birth" placeholder="xxxx-xx-xx" class="form-control"
                                pattern="^((?:19[2-9]\d{1})|(?:20[0-2][0-9]))\-((?:0?[1-9])|(?:1[0-2]))\-((?:0?[1-9])|(?:[1-2][0-9])|30|31)$" />
                        </div>
                        <div class="form-group py-2">
                            <label for="account" class="form-label">帳號</label>
                            <input type="text" name="account" placeholder="Account" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="password" class="form-label">密碼</label>
                            <input type="password" name="password" placeholder="Password" class="form-control"
                                minlength="6" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="phone_number" class="form-label">電話</label>
                            <input type="text" name="phone_number" placeholder="09xx-xxxxxx" class="form-control"
                                pattern="09[0-9]{2}-[0-9]{6}" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="email" class="form-label">電子郵件</label>
                            <input type="email" name="email" placeholder="example@gmail.com" class="form-control"
                                required />
                        </div>
                        <div class="form-group py-2">
                            <label for="location" class="form-label">地址</label>
                            <input type="text" name="location" class="form-control" required />
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="cancel" class="btn btn-secondary" data-bs-dismiss="modal">
                            取消
                        </button>
                        <button type="submit" class="btn btn-primary" id="add-saveUserBtn">
                            儲存
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 新增商品 Modal -->
    <div class="modal fade" id="addProductModal" tabindex="-1" aria-labelledby="addProductLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addProductLabel">新增商品</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form action="#" class="form-horizontal" id="form-add-productID">
                    <div class="modal-body">
                        <div class="form-group py-2">
                            <label for="productID" class="form-label">商品編號</label>
                            <input type="number" name="productID" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="productTime" class="form-label">上架時間</label>
                            <input type="text" name="productTime" placeholder="xxxx-xx-xx" class="form-control" required
                                pattern="^((?:19[2-9]\d{1})|(?:20[0-2][0-9]))\-((?:0?[1-9])|(?:1[0-2]))\-((?:0?[1-9])|(?:[1-2][0-9])|30|31)$" />
                        </div>
                        <div class="form-group py-2">
                            <label for="productName" class="form-label">商品名稱</label>
                            <input type="text" name="productName" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="productClassfier" class="form-label">商品分類</label>
                            <div class="dropdown d-flex align-items-center">
                                <button
                                    class="btn btn-outline-light dropdown-toggle text-dark border-dark d-flex justify-content-center align-items-center me-4"
                                    type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    手機/平板
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item drop_item" href="#" style="display: none">排序：手機/平板</a></li>
                                    <li><a class="dropdown-item drop_item" href="#">排序：相機/相機配件</a></li>
                                    <li><a class="dropdown-item drop_item" href="#">排序：電腦/筆電</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-group py-2">
                            <label for="product_price" class="form-label">商品單價</label>
                            <input type="text" name="product_price" placeholder="$10000" class="form-control"
                                pattern="^\$\d*$" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="product_count" class="form-label">商品庫存</label>
                            <input type="number" name="product_count" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="product_description" class="form-label">商品描述</label>
                            <input type="text" name="product_description" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="product_pic_location" class="form-label">圖片位址</label>
                            <input type="text" name="product_pic_location" class="form-control" required />
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="cancel" class="btn btn-secondary" data-bs-dismiss="modal">
                            取消
                        </button>
                        <button type="submit" class="btn btn-primary" id="add-saveProductBtn">
                            儲存
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- 編輯會員 Modal-->
    <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addProductLabel">編輯會員資料</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form action="#" class="form-horizontal" id="form-edit-customerID">
                    <div class="modal-body">
                        <div class="form-group py-2">
                            <label for="customerID" class="form-label">會員ID</label>
                            <input type="number" name="customerID" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="name" class="form-label">會員姓名</label>
                            <input type="text" name="name" class="form-control" value="王小明" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="birth" class="form-label">出生</label>
                            <input type="text" name="birth" value="1999-01-01" class="form-control"
                                pattern="^((?:19[2-9]\d{1})|(?:20[0-2][0-9]))\-((?:0?[1-9])|(?:1[0-2]))\-((?:0?[1-9])|(?:[1-2][0-9])|30|31)$" />
                        </div>
                        <div class="form-group py-2">
                            <label for="account" class="form-label">帳號</label>
                            <input type="text" name="account" value="member" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="password" class="form-label">密碼</label>
                            <input type="password" name="password" value="member123456" class="form-control"
                                minlength="6" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="phone_number" class="form-label">電話</label>
                            <input type="text" name="phone_number" value="0912-345678" class="form-control"
                                pattern="09[0-9]{2}-[0-9]{6}" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="email" class="form-label">電子郵件</label>
                            <input type="email" name="email" value="member@gmail.com" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="location" class="form-label">地址</label>
                            <input type="text" name="location" value="彰化縣彰化市師大路2號" class="form-control" required />
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="cancel" class="btn btn-secondary" data-bs-dismiss="modal">
                            取消
                        </button>
                        <button type="submit" class="btn btn-primary" id="edit-saveUserBtn">
                            儲存
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- 編輯商品 Modal -->
    <div class="modal fade" id="editProductModal" tabindex="-1" aria-labelledby="editProductLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editProductLabel">編輯商品</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form action="#" class="form-horizontal" id="form-edit-productID">
                    <div class="modal-body">
                        <div class="form-group py-2">
                            <label for="productID" class="form-label">商品編號</label>
                            <input type="number" name="productID" value="1" class="form-control" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="productTime" class="form-label">上架時間</label>
                            <input type="text" name="productTime" value="2025-04-05" class="form-control" required
                                pattern="^((?:19[2-9]\d{1})|(?:20[012][0-9]))\-((?:0?[1-9])|(?:1[0-2]))\-((?:0?[1-9])|(?:[1-2][0-9])|30|31)$" />
                        </div>
                        <div class="form-group py-2">
                            <label for="productName" class="form-label">商品名稱</label>
                            <input type="text" name="productName" class="form-control" value="SONY WH-1000XM5 耳機" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="productClassfier" class="form-label">商品分類</label>
                            <div class="dropdown d-flex align-items-center">
                                <button
                                    class="btn btn-outline-light dropdown-toggle text-dark border-dark d-flex justify-content-center align-items-center me-4"
                                    type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    相機/相機配件
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item drop_item" href="#">排序：手機/平板</a></li>
                                    <li><a class="dropdown-item drop_item" href="#" style="display: none">排序：相機/相機配件</a></li>
                                    <li><a class="dropdown-item drop_item" href="#">排序：電腦/筆電</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-group py-2">
                            <label for="product_price" class="form-label">商品單價</label>
                            <input type="text" name="product_price" value="$10000" class="form-control"
                                pattern="^\$\d*$" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="product_count" class="form-label">商品庫存</label>
                            <input type="number" name="product_count" class="form-control" value="10" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="product_description" class="form-label">商品描述</label>
                            <input type="text" name="product_description" class="form-control" value="業界領先降噪技術\n碳纖維驅動單體創造超凡音質\n卓越的無噪音通話" required />
                        </div>
                        <div class="form-group py-2">
                            <label for="product_pic_location" class="form-label">圖片位址</label>
                            <input type="text" name="product_pic_location" class="form-control" value="https://www.momoshop.com.tw/goods/GoodsDetail.jsp?i_code=11453217&Area=search&mdiv=403&oid=1_1&cid=index&kw=SONY+%E7%B4%A2%E5%B0%BC+WH-1000XM5+%E4%B8%BB%E5%8B%95%E5%BC%8F%E9%99%8D%E5%99%AA%E6%97%97%E8%89%A6%E8%97%8D%E8%8A%BD%E8%80%B3%E6%A9%9F%28%E5%8F%B0%E7%81%A3%E5%85%AC%E5%8F%B8%E8%B2%A8%E4%BF%9D%E5%9B%BA12%2B6%29" required />
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="cancel" class="btn btn-secondary" data-bs-dismiss="modal">
                            取消
                        </button>
                        <button type="submit" class="btn btn-primary" id="edit-saveProductBtn">
                            儲存
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
</body>

</html>